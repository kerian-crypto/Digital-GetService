<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Back-office - {{ site_name }}</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/admin.css') }}">
</head>
<body class="admin-body">
<header class="admin-header">
    <div class="container d-flex justify-content-between align-items-center py-3">
        <div class="d-flex align-items-center gap-3">
            <strong>{{ site_name }}</strong>
            <small class="text-muted">Back-office</small>
        </div>
        <div class="d-flex align-items-center gap-3">
            <a class="btn btn-sm btn-outline-primary" href="{{ url_for('site_page', page='accueil') }}" target="_blank">Voir le site</a>
            <a class="btn btn-sm btn-outline-danger" href="{{ url_for('backoffice_logout') }}">Deconnexion</a>
        </div>
    </div>
</header>

<nav class="admin-nav">
    <div class="container py-2 d-flex flex-wrap gap-2">
        <a class="btn btn-sm {% if active_page == 'admin_index' %}btn-primary{% else %}btn-outline-primary{% endif %}" href="{{ url_for('backoffice_index') }}">Dashboard</a>
        <a class="btn btn-sm {% if active_page == 'admin_users' %}btn-primary{% else %}btn-outline-primary{% endif %}" href="{{ url_for('backoffice_users') }}">Users</a>
        <a class="btn btn-sm {% if active_page == 'admin_services' %}btn-primary{% else %}btn-outline-primary{% endif %}" href="{{ url_for('backoffice_services') }}">Services</a>
        <a class="btn btn-sm {% if active_page == 'admin_projects' %}btn-primary{% else %}btn-outline-primary{% endif %}" href="{{ url_for('backoffice_projects') }}">Projects</a>
        <a class="btn btn-sm {% if active_page == 'admin_members' %}btn-primary{% else %}btn-outline-primary{% endif %}" href="{{ url_for('backoffice_members') }}">Members</a>
        <a class="btn btn-sm {% if active_page == 'admin_people' %}btn-primary{% else %}btn-outline-primary{% endif %}" href="{{ url_for('backoffice_people') }}">People</a>
        <a class="btn btn-sm {% if active_page == 'admin_mailing' %}btn-primary{% else %}btn-outline-primary{% endif %}" href="{{ url_for('backoffice_mailing') }}">Mailing</a>
        <a class="btn btn-sm {% if active_page == 'admin_chat' %}btn-primary{% else %}btn-outline-primary{% endif %}" href="{{ url_for('backoffice_chat') }}">Chat</a>
    </div>
</nav>

<main class="container py-4">
    {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
            {% for category, message in messages %}
                <div class="alert alert-{{ 'warning' if category == 'message' else category }} alert-dismissible fade show" role="alert">
                    {{ message }}
                    <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
                </div>
            {% endfor %}
        {% endif %}
    {% endwith %}
    {% block content %}{% endblock %}
</main>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
